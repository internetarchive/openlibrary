/**
 * Cross-document View Transitions API opt-in.
 * Enables cover image morph when navigating between home carousel and book page.
 * See https://developer.chrome.com/docs/web-platform/view-transitions/cross-document
 */
@view-transition {
  navigation: auto;
}

::view-transition-group(book-cover) {
  animation-duration: 0.5s;
  animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

::view-transition-old(book-cover),
::view-transition-new(book-cover) {
  animation-duration: 0.3s;
  animation-timing-function: ease-in-out;
}

// Ensure the target element has dimensions even before the image loads
// to prevent the transition from collapsing to 0x0
.bookCover img {
  min-height: 200px;
  background-color: #f3f3f3; // Placeholder color
  object-fit: cover; // Ensure it covers the area without distortion if aspect ratio differs
}
