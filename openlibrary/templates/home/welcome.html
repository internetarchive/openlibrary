$def with (test=False)

<div class="carousel-section">
  <div class="carousel-section-header">
    <h2 class="home-h2">$_("Welcome to Open Library")</h2>
  </div>

  <div class="carousel-container">
    <div
      class="carousel carousel--progressively-enhanced"
      data-config="$json_encode({'carouselKey': 'welcome', 'booksPerBreakpoint': [3, 2, 2, 1, 1]})"
    >
      $ read_online_card = {
      $    "card_title": _("Read Free Library Books Online"),
      $    "card_body": _("Millions of books available through Controlled Digital Lending"),
      $    "img_src": "/static/images/onboarding/read.png",
      $    "href": "/help/faq/borrow",
      $    "ol_link_track": "OnboardingCarouselClick|Read"
      $ }
      $:render_template('home/onboarding_card', read_online_card['card_title'], read_online_card['card_body'], read_online_card['img_src'], read_online_card['href'], ol_link_track=read_online_card['ol_link_track'])

      $ reading_goal_card = {
      $    "card_title": _("Set a Yearly Reading Goal"),
      $    "card_body": _("Learn how to set a yearly reading goal and track what you read"),
      $    "img_src": "/static/images/onboarding/reading_goal.svg",
      $    "href": "/help/faq/yearly-reading-goals",
      $    "ol_link_track": "OnboardingCarouselClick|YearlyReadingGoals",
      $    "attribution": 'Calendar by Oksana Latysheva from the Noun Project'
      $ }
      $:render_template('home/onboarding_card', reading_goal_card['card_title'], reading_goal_card['card_body'], reading_goal_card['img_src'], reading_goal_card['href'], ol_link_track=reading_goal_card['ol_link_track'], attribution=reading_goal_card['attribution'])

      $ reading_log_card = {
      $    "card_title": _("Keep Track of your Favorite Books"),
      $    "card_body": _("Organize your Books using Lists & the Reading Log"),
      $    "img_src": "/static/images/onboarding/track.png",
      $    "href": "/help/faq/reading-log",
      $    "ol_link_track": "OnboardingCarouselClick|Organize"
      $ }
      $:render_template('home/onboarding_card', reading_log_card['card_title'], reading_log_card['card_body'], reading_log_card['img_src'], reading_log_card['href'], ol_link_track=reading_log_card['ol_link_track'])

      $ explorer_card = {
      $    "card_title": _("Try the virtual Library Explorer"),
      $    "card_body": _("Digital shelves organized like a physical library"),
      $    "img_src": "/static/images/onboarding/library_explorer.png",
      $    "href": "/explore",
      $    "ol_link_track": "OnboardingCarouselClick|Explore"
      $ }
      $:render_template('home/onboarding_card', explorer_card['card_title'], explorer_card['card_body'], explorer_card['img_src'], explorer_card['href'], ol_link_track=explorer_card['ol_link_track'])

      $ fulltext_search_card = {
      $    "card_title": _('Try Fulltext Search'),
      $    "card_body": _('Find matching results within the text of millions of books'),
      $    "img_src": "/static/images/onboarding/fulltext.png",
      $    "href": "/search/inside",
      $    "ol_link_track": "OnboardingCarouselClick|FulltextSearch"
      $ }
      $:render_template('home/onboarding_card', fulltext_search_card['card_title'], fulltext_search_card['card_body'], fulltext_search_card['img_src'], fulltext_search_card['href'], ol_link_track=fulltext_search_card['ol_link_track'])

      $ volunteer_card = {
      $    "card_title": _("Be an Open Librarian"),
      $    "card_body": _("Dozens of ways you can help improve the library"),
      $    "img_src": "/static/images/onboarding/librarian.png",
      $    "href": "/librarians",
      $    "ol_link_track": "OnboardingCarouselClick|Librarians"
      $ }
      $:render_template('home/onboarding_card', volunteer_card['card_title'], volunteer_card['card_body'], volunteer_card['img_src'], volunteer_card['href'], ol_link_track=volunteer_card['ol_link_track'])

      $ volunteer_action_card = {
      $    "card_title": _("Volunteer at Open Library"),
      $    "card_body": _("Discover opportunities to improve the library"),
      $    "img_src": "/static/images/onboarding/volunteer.png",
      $    "href": "/volunteer",
      $    "ol_link_track": "OnboardingCarouselClick|Volunteer",
      $    "attribution": "Volunteer by Candy Design from the Noun Project"
      $ }
      $:render_template('home/onboarding_card', volunteer_action_card['card_title'], volunteer_action_card['card_body'], volunteer_action_card['img_src'], volunteer_action_card['href'], ol_link_track=volunteer_action_card['ol_link_track'], attribution=volunteer_action_card['attribution'])

      $ feedback_card = {
      $    "card_title": _("Send us feedback"),
      $    "card_body": _("Your feedback will help us improve these cards"),
      $    "img_src": "/static/images/onboarding/feedback.png",
      $    "href": "https://forms.gle/enM9rGoPBGB89kd4A",
      $    "ol_link_track": "OnboardingCarouselClick|Feedback",
      $    "attribution": 'Reading by Chattapat from the Noun Project'
      $ }
      $:render_template('home/onboarding_card', feedback_card['card_title'], feedback_card['card_body'], feedback_card['img_src'], feedback_card['href'], ol_link_track=feedback_card['ol_link_track'], attribution=feedback_card['attribution'])

    </div>
  </div>
</div>
