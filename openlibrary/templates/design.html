$def with()
$# /developers/design
$ _x = ctx.setdefault('cssfile', 'design')

<div class="design-pattern-library">
  <h1>$_("Design Pattern Library")</h1>
  <article class="design-pattern">
    <h2>$_("Colors")</h2>
    <section>
      <ul>
        <li class="color-swatch"><span class="color-block color-block-background"></span> $_("Background")</li>
        <li class="color-swatch"><span class="color-block color-block-primary-cta"></span> $_("Primary Call To Action")</li>
        <li class="color-swatch"><span class="color-block color-block-link-unclicked"></span> $_("Link (unclicked)")</li>
        <li class="color-swatch"><span class="color-block color-block-link-clicked"></span> $_("Link (clicked)")</li>
      </ul>
    </section>
  </article>

  <article class="design-pattern">
    <h2>Pagination</h2>
    <p>The ol-pagination component provides support for both event-based and URL-based navigation.</p>

    <section class="example">
      <h3>Event-based</h3>
      <p>When a page is clicked, the component fires an <code>update:page</code> event with the page number in <code>event.detail</code>.</p>
      <code class="example__code">&lt;ol-pagination total-pages="10" current-page="1"&gt;&lt;/ol-pagination&gt;</code>
      <ol-pagination id="demo-pagination" total-pages="10" current-page="1"></ol-pagination>

      <p>Selected page: <strong id="demo-selected-page">1</strong></p>
      <script>
        document.getElementById('demo-pagination').addEventListener('update:page', (e) => {
          document.getElementById('demo-selected-page').textContent = e.detail;
          e.target.setAttribute('current-page', e.detail);
        });
      </script>
    </section>

    <section class="example">
      <h3>URL-based Navigation</h3>
      <p>When base-url is provided, pagination renders anchor tags for SEO-friendly links.</p>
      <code class="example__code">&lt;ol-pagination total-pages="50" current-page="5" base-url="/search?q=example"&gt;&lt;/ol-pagination&gt;</code>
      <ol-pagination total-pages="50" current-page="5" base-url="/search?q=example"></ol-pagination>
    </section>

    <section class="example">
      <h3>First page (no previous arrow)</h3>
      <div class="example__output">
        <ol-pagination total-pages="20" current-page="1"></ol-pagination>
      </div>

      <h3>Middle page (both arrows visible)</h3>
      <div class="example__output">
        <ol-pagination total-pages="20" current-page="10"></ol-pagination>
      </div>

      <h3>Last page (no next arrow)</h3>
      <div class="example__output">
        <ol-pagination total-pages="20" current-page="20"></ol-pagination>
      </div>

      <h3>3 pages</h3>
      <div class="example__output">
        <ol-pagination total-pages="3" current-page="2"></ol-pagination>
      </div>

      <h3>5 pages (no ellipsis needed)</h3>
      <div class="example__output">
        <ol-pagination total-pages="5" current-page="3"></ol-pagination>
      </div>

      <h3>100 pages with ellipsis:</h3>
      <div class="example__output">
        <ol-pagination total-pages="100" current-page="50"></ol-pagination>
      </div>
    </section>
  </article>
</div>
