$def with (email=None)

$ _x = ctx.setdefault('bodyid', 'admin')
$ _x = ctx.setdefault('usergroup', 'admin')

$var title: [Admin Center] People

<div id="contentBody">
    <h1><a href="/admin/">Admin</a> / People</h1>
    

<div class="head">
    <h2>$_("Find Account")</h2>
</div>

<table id="adminHistory" style="clear: both;">
<tbody>
    <tr>
        <td>$_("Email Address:")</td>
        <td>
            <form method="GET" name="form-email" id="form-email" class="validate">
                <input type="text" name="email" id="email" class="email" value="$email"/>
                <button type="submit" name="" value="find">Find</button>
                <span class="invalid" htmlfor="email" generated="true">
                    $if email:
                        No account found with this email.
                </span>
            </form>
        </td>
    </tr>
</tbody>
</table>

<p></p>


<div class="head">
    <h2>$_("Recent Accounts")</h2>
</div>

<table id="adminHistory">
    <thead>
    <tr>
        <th>$_("Date/Time")</th>
        <th>$_("Name")</th>
        <th>$_("email")</th>
        <th>$_("Edits")</th>
    </tr>
    </thead>
    <tbody>
    $for user in get_recent_accounts(limit=50):
        <tr>
            <td class="time">$datestr(user.created)</td>
            <td class="displayname"><a href="/admin$user.key">$user.displayname</a> <a href="$user.key" style="color: #900; text-decoration: none;">profile</a></td>
            <td class="displayname">$user.get_email()</td>
            <td class="comment">$user.get_edit_count()</td>
        </tr>
    </tbody>
    </table>

<div class="head">
    <h2>$_("Edit History")</h2>
</div>
$:render_template("admin/history", get_recent_changes(limit=5))

</div>